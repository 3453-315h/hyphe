<div layout="column" layout-fill>
  <div class="topbar-height" ng-include="'partials/topbar.html'">
  </div>
  <div flex>
    <div layout="row" layout-fill>
      <div class="sidebar-width" ng-include="'partials/sidebar.html'"></div>
      <div
        flex
        md-colors="{background: 'default-background-50'}"
        style="overflow-y: auto;"
      >
        
        <!-- Content -->
        <div layout-fill layout="column">

          <div class="page-header">
            <h1 class="word-break">
              {{webentity.name || 'loading'}}
            </h1>
            <span class="md-subhead">
              Explore and edit this <span hyphe-glossary="web entity"></span>.
            </span>
          </div>

          <div flex layout="row">
            <div layout="column" flex="50">
              <md-tabs md-border-bottom flex md-selected="selectedTab">
            
                <!-- Tab: Identity -->
                <md-tab label="Identity">
                  <div layout="column" layout-fill md-colors="{'background': 'default-background-200'}">

                    <!-- Info -->
                    <md-content ng-if="!identityEditMode" style="padding: 8px" md-colors="{'background': 'default-background-200'}">
                      <dl class="key-value-pairs">

                        <dt>ID</dt>
                        <dd>{{webentity.id}}</dd>

                        <dt>Name</dt>
                        <dd>{{webentity.name || '...'}}</dd>

                        <dt>Status</dt>
                        <dd>{{webentity.status || '...'}}</dd>

                        <dt>Home page</dt>
                        <dd>
                          <a href="{{webentity.homepage}}" target="_blank" title="Open in a new tab">
                            <md-tooltip md-direction="left">Open home page in a new tab</md-tooltip>
                            <md-icon>link</md-icon>
                          </a>
                          {{webentity.homepage}}
                        </dd>

                      </dl>
                      <div layout="row" layout-align="center">
                        <md-button class="md-raised" ng-click="enableEditMode()" ng-disabled="webentity.loading">Edit</md-button>
                      </div>
                    </md-content>

                    <!-- Edit -->
                    <div layout="column" ng-if="identityEditMode" style="padding: 8px" >
                      <md-input-container>
                        <label>Name</label>
                        <input ng-model="$parent.webentityEdit_name">
                      </md-input-container>
                      <md-input-container>
                        <label>Status</label>
                        <md-select ng-model="$parent.webentityEdit_status">
                          <md-option value="IN">IN</md-option>
                          <md-option value="UNDECIDED">UNDECIDED</md-option>
                          <md-option value="OUT">OUT</md-option>
                        </md-select>
                      </md-input-container>
                      <md-input-container>
                        <label>Homepage</label>
                        <input ng-model="$parent.webentityEdit_homepage">
                        <div class="hint" md-colors="{'color': 'default-warn'}">{{homepageErrorMessage}}</div>
                      </md-input-container>
                      <div layout="row">
                        <md-button class="md-raised md-primary" ng-click="saveWebEntity()" ng-disabled="identityEditLoading">Save changes</md-button>
                        <md-button class="" ng-click="disableEditMode()" ng-disabled="identityEditLoading">Cancel</md-button>
                      </div>
                    </div>
                  </div>
                </md-tab>

                <!-- Tab: Prefixes -->
                <md-tab label="Prefixes">
                </md-tab>

                <!-- Tab: Tags -->
                <md-tab label="Tags">
                </md-tab>

                <!-- Tab: Crawls -->
                <md-tab label="Crawls">
                </md-tab>

              </md-tabs>
            </div>
            <div layout="column" flex="50" md-colors="{'background':'default-background-100'}">
              <div
                layout="row"
                style="height: 48px;"
              >
                <h3 style="padding: 8px; margin: 0px">Pages</h3>
                <div flex></div>
                <md-button class="md-raised" disabled="true">
                  <md-icon>equalizer</md-icon>
                  Most cited
                </md-button>
                <md-button class="md-raised" disabled="true">
                  <md-icon>folder</md-icon>
                  as folders
                </md-button>
                <md-button class="md-raised" disabled="true">
                  <md-icon>bubble_chart</md-icon>
                  network
                </md-button>
              </div>
              
              <div style="padding: 8px">
                TODO: pages list
              </div>
            </div>
          </div>

        </div>

      </div>
    </div>
  </div>
</div>