    <div class="container-fluid">
      <div class="row no-gutter" ng-include="'partials/topbar.html'">
      </div>
      <div class="row no-gutter">
        <div class="col-lg-2 col-md-3 col-sm-4" ng-include="'partials/sidebar.html'">
        </div>
        <div class="col-lg-10 col-md-9 col-sm-8">
          <div class="container-fluid main">
            <div class="row">
              <div class="col-md-12">
                <h1>
                  {{webentity.name}}
                </h1>
                <span class="text-info">Explore and edit this web entity</span>

                <br>
                <br>
                
                <webentity-tabs></webentity-tabs>
                
                <br>
                
                <div ng-if="loading">
                  <spinner text="'LOADING'"/>
                </div>

                <div ng-if="!loading">

                  <ol class="breadcrumb breadcrumb-subtitled">

                    <!-- Home -->
                    <li>
                      <span ng-if="path.length == 0">
                        <span class="glyphicon glyphicon-home"></span> Web Entity
                      </span>
                      <span ng-if="path.length > 0">
                        <a href ng-click="goTo()"><span class="glyphicon glyphicon-home"></span> Web Entity</a>
                      </span>
                    </li>

                    <!-- Path elements > Home -->
                    <li ng-repeat="obj in path track by $index">
                      <a  ng-if="path.length > $index+1" href ng-click="goTo(obj.node)">{{obj.label}}</a>
                      <span ng-if="path.length == $index+1">{{obj.label}}</span>
                    </li>
                    
                  </ol>

                  <p><small class="text-muted" ng-if="pathUrl != ''">{{pathUrl}} <a href="{{pathUrl}}" class="btn btn-link btn-xs" target="_blank"><span class="glyphicon glyphicon-share-alt"></span></a></small></p>

                  <button class="btn btn-default btn-sm" ng-click="goToParent()"><span class="glyphicon glyphicon-circle-arrow-left"></span> BACK</button>
                  
                  <br>
                  <br>

                  <!-- TABLE: EXTERNAL PREFIXES -->
                  <table class="table table-condensed table-explorer" ng-if="items_webentities.length > 0">
                    <thead>
                      <tr>
                        <th>Prefixes of other web entities</th>
                        <th class="cell-webentity">Web entity</th>
                        <th class="cell-action"></th>
                      </tr>
                    </thead>

                    <tbody>
                      <tr
                        ng-repeat="obj in items_webentities track by $index"
                      >
                        <td> <!-- Label column -->

                          <div>
                            <span title="{{obj.url}}">
                              <span class="glyphicon glyphicon-briefcase" tooltip="Prefix of another web entity"></span>
                              {{obj.label}}
                            </span>
                          </div>
                          
                        </td>
                        
                        <td class="cell-webentity"><a href="#/project/{{corpusId}}/webentity/{{obj.data.id}}/explorer">{{obj.data.name}}</a></td>
                        
                        <td class="cell-action"><button class="btn btn-default btn-xs" ng-click="mergeIntoCurrent(obj.data.id)">MERGE INTO THIS</button></td>
                      
                      </tr>
                    </tbody>
                  </table>

                  <!-- TABLE: PREFIX -->
                  <table class="table table-condensed table-explorer" ng-if="items_prefixes.length > 0">
                    <thead>
                      <tr>
                        <th>Prefixes of {{webentity.name}}</th>
                        <th class="cell-info">Pages</th>
                        <th class="cell-action"></th>
                      </tr>
                    </thead>

                    <tbody>
                      <tr
                        ng-repeat="obj in items_prefixes track by $index"
                      >
                        <td> <!-- Label column -->

                          <div>
                            <a href ng-click="goTo(obj.node)" title="{{obj.url}}">
                              <span class="glyphicon glyphicon-briefcase" tooltip="This prefix contains {{obj.pagesCount == 0 ? 'no page' : obj.pagesCount == 1 ? '1 page' : obj.pagesCount+' pages'}}"></span>
                              {{obj.label}}
                            </a>
                          </div>
                          
                        </td>
                        
                        <td class="cell-info">
                          
                          <span>
                            {{obj.pagesCount == 0 ? 'None' : obj.pagesCount}}
                          </span>

                        </td>
                        
                        <td class="cell-action">
                          <button class="btn btn-default btn-xs" ng-click="removePrefix(obj)">REMOVE PREFIX</button>
                        </td>
                      
                      </tr>
                    </tbody>
                  </table>

                  <!-- TABLE: FOLDER -->
                  <table class="table table-condensed table-explorer" ng-if="items_folders.length > 0">
                    <thead>
                      <tr>
                        <th>Folders</th>
                        <th class="cell-type">Type</th>
                        <th class="cell-info">Pages</th>
                        <th class="cell-action"></th>
                      </tr>
                    </thead>

                    <tbody>
                      <tr
                        ng-repeat="obj in items_folders track by $index"
                      >
                        <td> <!-- Label column -->

                          <div>
                            <a href ng-click="goTo(obj.node)" title="{{obj.url}}">
                              <span class="glyphicon glyphicon-folder-close" tooltip="This folder contains {{obj.pagesCount == 0 ? 'no page' : obj.pagesCount == 1 ? '1 page' : obj.pagesCount+' pages'}}"></span>
                              {{obj.label}}
                            </a>
                          </div>
                          
                        </td>
                        
                        <td class="cell-type">{{obj.type}}</td>
                        
                        <td class="cell-info">
                          
                          <span>
                            {{obj.pagesCount == 0 ? 'None' : obj.pagesCount}}
                          </span>

                        </td>
                        
                        <td class="cell-action">
                          
                            <button ng-if="!obj.isPrefix" class="btn btn-default btn-xs" ng-click="newWebEntity(obj)">NEW WEB ENTITY</button>
                          
                        </td>
                      
                      </tr>
                    </tbody>
                  </table>

                  <!-- TABLE: PAGE -->
                  <table class="table table-condensed table-explorer" ng-if="items_pages.length > 0">
                    <thead>
                      <tr>
                        <th>Pages</th>
                        <th class="cell-type">Type</th>
                        <th class="cell-info">Info</th>
                        <th class="cell-action"></th>
                      </tr>
                    </thead>

                    <tbody>
                      <tr
                        ng-repeat="obj in items_pages track by $index"
                      >
                        <td> <!-- Label column -->

                          <!-- case: page -->
                        
                          <span title="{{obj.url}}">
                            <span class="glyphicon glyphicon-file" tooltip="Page"></span>
                            {{obj.label}}
                            <a href="{{obj.data.url}}" class="btn btn-link btn-xs" target="_blank"><span class="glyphicon glyphicon-share-alt"></span></a>
                          </span>
                          
                        </td>
                        
                        <td class="cell-type">{{obj.type}}</td>
                        
                        <td class="cell-info">
                          
                          <span>
                            {{obj.crawled ? 'crawled' : 'not crawled'}}
                          </span>

                        </td>
                        
                        <td class="cell-action">
                          <button ng-if="!obj.isPrefix" class="btn btn-default btn-xs" ng-click="newWebEntity(obj)">NEW WEB ENTITY</button>
                        </td>
                      
                      </tr>
                    </tbody>
                  </table>

                  

                  <!-- Related (parent) web entities -->
                  <table class="table table-condensed table-explorer" ng-if="path.length == 0 && parentWebentities.length > 0">
                    <thead>
                      <tr>
                        <th>Related web entities</th>
                        <th>Prefixes</th>
                        <th class="cell-action"></th>
                      </tr>
                    </thead>

                    <tbody>
                      <tr
                        ng-repeat="obj in parentWebentities track by $index"
                      >
                        <td><a href="#/project/{{corpusId}}/webentity/{{obj.id}}/explorer">{{obj.name}}</a></td>
                        <td><span ng-repeat="lru in obj.lru_prefixes">{{lru|lru_to_url}}<br/></span></td>
                        
                        <td class="cell-action"><button class="btn btn-default btn-xs" ng-click="mergeIntoCurrent(obj.id)">MERGE INTO THIS</button></td>
                      
                      </tr>
                    </tbody>
                  </table>

                </div>
                
              </div>

            </div>

          </div>
        </div>
      </div>
    </div>
