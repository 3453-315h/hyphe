<div class="modal-header">
  <h3 class="modal-title">{{webentity.name}}</h3>
</div>
<div class="modal-body">

  <table class="table table-condensed table-striped">

    <thead>
      <tr>
        <th
          class="wesp-modal-cell-startpage"
        >Start page{{startpages.length > 1 ? 's' : ''}}</th>
        <th
          class="wesp-modal-cell-lookup"
        ></th>
      </tr>
    </thead>

    <tbody>
      <tr ng-repeat="sp in startpages" ng-class="{'wesp-modal-loading' : sp.status == 'loading'}">
        
        <td
          class="wesp-modal-cell-startpage"
        >
          <span class="url">
            <span>
              {{sp.url}}
            </span>
            &nbsp;
            <a href="{{sp.url}}" target="_blank" title="Open in a new tab">
              <span class="glyphicon glyphicon-share-alt"></span>
            </a>
          </span>
          
        </td>
        
        <td
          class="wesp-modal-cell-lookup"
        >
          <span class="pull-right">
            <minispinner ng-if="sp.status == 'loading'"></minispinner>
            <span
              ng-if="sp.status == 'loaded'"
              class="glyphicon"
              ng-class="{
                'glyphicon-ok': lookups[sp.url].status == 'success'
              , 'text-success': lookups[sp.url].status == 'success'

              , 'glyphicon-exclamation-sign': lookups[sp.url].status == 'issue'
              , 'text-warning':               lookups[sp.url].status == 'issue'
              }"

              tooltip-animation="true"
              tooltip-placement="top"
              tooltip-trigger="mouseenter"
              tooltip="lookup {{lookups[sp.url].status}}"
              tooltip-append-to-body="true"
            ></span>

            <!-- Lookup fail -->
            <span ng-if="lookups[sp.url].status == 'fail'" class="text-danger">
              lookup fail
            </span>

            <!-- Lookup loaded -->
            <span
              ng-if=" lookups[sp.url].status == 'issue'"
              class="text-warning"
              tooltip="http code {{lookups[sp.url].httpStatus}}"
            >
              {{lookups[sp.url].httpStatus|explicitHttpCode}}
            </span>
          </span>
        </td>

      </tr>
    </tbody>

  </table>

  <div collapse="collapseProgressBar" >
    <progressbar ng-if="startpagesSummary.percent == 0" value="100" class="progress-striped active" >Testing web entities</progressbar>
    <progressbar ng-if="startpagesSummary.percent > 0" value="startpagesSummary.percent" >{{startpagesSummary.percent}}% tested</progressbar>
  </div>

</div>
<div class="modal-footer">
  <button class="btn btn-primary" ng-click="ok()">OK</button>
  <button class="btn btn-default" ng-click="cancel()">CANCEL</button>
</div>