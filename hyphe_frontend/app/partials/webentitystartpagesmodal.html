<div class="modal-header">
  <h3 class="modal-title">{{webentity.name}}</h3>
</div>
<div class="modal-body">

  <table class="table table-condensed table-striped">

    <thead>
      <tr>
        <th
          class="wesp-modal-cell-startpage"
        >Start page{{startpages.length > 1 ? 's' : ''}}</th>
        <th
          class="wesp-modal-cell-lookup"
        ></th>
      </tr>
    </thead>

    <tbody>
      <tr ng-repeat="sp in startpages">
        
        <td
          class="wesp-modal-cell-startpage"
        >
          <span class="url">
            <span
              ng-class="{
                'text-muted':   lookups[sp.url].status != 'success'
              }"
            >
              {{sp.url}}
            </span>
            &nbsp;
            <a href="{{sp.url}}" target="_blank" title="Open in a new tab">
              <span class="glyphicon glyphicon-share-alt"></span>
            </a>
          </span>
          
        </td>
        
        <td
          class="wesp-modal-cell-lookup"
        >
          <span class="pull-right">
            <span
              class="glyphicon"
              ng-class="{

                'glyphicon-time': sp.status == 'loading'
              , 'text-muted':     sp.status == 'loading'
              , 'pulse':          sp.status == 'loading'
              
              , 'glyphicon-ok': sp.status == 'loaded' && lookups[sp.url].status == 'success'
              , 'text-success': sp.status == 'loaded' && lookups[sp.url].status == 'success'

              , 'glyphicon-exclamation-sign': sp.status == 'loaded' && lookups[sp.url].status == 'issue'
              , 'text-warning':               sp.status == 'loaded' && lookups[sp.url].status == 'issue'
              }"

              tooltip-animation="true"
              tooltip-placement="top"
              tooltip-trigger="mouseenter"
              tooltip="lookup {{lookups[sp.url].status}}"
              tooltip-append-to-body="true"
            ></span>

            <!-- Lookup fail -->
            <span ng-if="lookups[sp.url].status == 'fail'" class="text-danger">
              lookup fail
            </span>

            <!-- Lookup loaded -->
            <span
              ng-if=" lookups[sp.url].status == 'issue'"
              class="text-warning"
              tooltip="http code {{lookups[sp.url].httpStatus}}"
            >
              {{lookups[sp.url].httpStatus|explicitHttpCode}}
            </span>
          </span>
        </td>

      </tr>
    </tbody>

  </table>

  <h4>
    Testing start pages...
  </h4>

</div>
<div class="modal-footer">
  <button class="btn btn-primary" ng-click="ok()">OK</button>
  <button class="btn btn-default" ng-click="cancel()">CANCEL</button>
</div>